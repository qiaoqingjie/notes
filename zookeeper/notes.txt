The deafult weight of a server is 1
[3.4.5:
quorumVerifier:
	1\serverGroup.size() > 0：QuorumHierarchical：包含半数以上group（numGroups不包含weight为0的group），并且其中每个group的总权值大于配置的group的总权值的一半。
	2\QuorumMaj：包含半数以上类型为PARTICIPANT的server数（half = votingMembers.size() / 2;）
]

[trunk:
配置文件中有key为group或weight：QuorumHierarchical
否则：QuorumMaj

]

[
zoo.cfg:
	...
	dynamicConfigFile
	
dynamicConfigFile：
	group（必须要包含所有PARTICIPANT类型的server）
	weight
	server.（这里的value（host:port:electionPort[:type]）中可以配置clientAddr（port或host:port，没有host则用server的value中的host），用;与前面的addr隔开。(若zoo.cfg中配置了，则两者必须一致，否则报错））
	version（QuorumVerifier的version）
]	

[server类型:
public enum LearnerType {
        PARTICIPANT, OBSERVER;
    }
]
[public enum ServerState {
        LOOKING, FOLLOWING, LEADING, OBSERVING;
    }
]

[?????????????????????????
dynamicConfigFileStr + ".next" (lastSeenQuorumVerifier是干嘛的？)
]


[
ServerCnxnFactory
	NettyServerCnxnFactory
	NIOServerCnxnFactory
	NullServerCnxnFactory
]
[protected int maxClientCnxns = 60;]

[PathTrie
TrieNode:
PathTrie:每级对应一个节点
	addPath:将最后一个节点property设为true。
	deletePath：如果要删除的path最后一个节点中children只有一个，则删除该节点（及其子节点）；否则，只设置最后一个节点property为false。
	findMaxPrefix：找到与path重合的路径中，最长的路径，使得最后一个节点的property为true。
]

[??????????????!!!!!!!!!!!!!!!!!!!!!
DataNode
void copyStat(Stat to)

// when we do the Cversion we need to translate from the count of the creates
        // to the count of the changes (v3 semantics)
        // for every create there is a delete except for the children still present
        to.setCversion(stat.getCversion()*2 - numChildren);
ps:DataNode中的StatPersisted stat中的cversion只是create的计数，不包含delete；copyStat中，to的cversion包含了delete的计数，转换方法就是上面的。
]

[??????????????????
Util.isValidSnapshot
RandomAccessFile读取最后n个byte，可能会出现只读取到少于n个byte的情况？？？
]










